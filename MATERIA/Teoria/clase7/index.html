<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Clase 7 Proyecto 2014</title><meta name="generator" content="Hovercraft! 1.0 http://regebro.github.com/hovercraft"></meta><meta name="author" content="Einar Lanfranco, Claudia Banchoff"></meta><meta name="description" content="Notaciones para descripci&#xF3;n de datos"></meta><meta name="keywords" content="DOM + Javascript"></meta><link rel="stylesheet" href="css/hovercraft.css" media="all"></link><link rel="stylesheet" href="css/impressConsole.css" media="all"></link><link rel="stylesheet" href="css/highlight.css" media="all"></link><link rel="stylesheet" href="proyecto.css" media="screen,projection"></link></head><body class="impress-not-supported"><div id="impress"><div class="step" step="0" data-x="0" data-y="0"><h1 id="proyecto-de-software">Proyecto de Software</h1><h1 id="cursada-2014">Cursada 2014</h1></div><div class="step" step="1" data-x="1600" data-y="0"><h1 id="hoy-seguimos-con">Hoy seguimos con ...</h1><img src="images/contenidos7.png" alt="" width="" height=""></img></div><div class="step" step="2" data-x="3200" data-y="0"><h1 id="temario">Temario</h1><ul><li><dl><dt>Repaso Clase Anterior</dt><dd><ul><li>XML - JSON- YAML</li></ul></dd></dl></li><li>El Modelo de Objetos del Documento (DOM)</li><li><dl><dt>Procesamiento en el cliente</dt><dd><ul><li>Javascript</li><li>Librer&#xED;as</li></ul></dd></dl></li></ul></div><div class="step" step="3" data-x="4800" data-y="0"><h1 id="repaso-xml-json-yaml">Repaso - XML, JSON, YAML ....</h1><ul><li>SurgeN de la  necesidad de contar con un mecanismo para describir informaci&#xF3;n estructurada.</li><li><dl><dt>XML - eXtensible Markup Language</dt><dd><ul><li>Es un lenguaje de marcas.</li><li>Con una sintaxis estricta</li><li>Con posibilidad de definir la gram&#xE1;tica: DTD - Schemas</li><li>Con especificaciones asociadas: XSL - Schemas - etc.</li></ul></dd></dl></li><li><dl><dt>JSON - YAML</dt><dd><ul><li>Notaciones alternativas</li><li>M&#xE1;s ligeras</li><li>Populares</li></ul></dd></dl></li><li><dl><dt>&#xBF;Cu&#xE1;l usamos?</dt><dd><ul><li>Depende...</li></ul></dd></dl></li></ul></div><div class="step" step="4" data-x="6400" data-y="0"><h1 id="el-modelo-de-objetos-del-documento">El Modelo de Objetos del Documento</h1></div><div class="step" step="5" data-x="8000" data-y="0"><h1 id="dom">DOM</h1><ul><li>El Modelo de Objetos de Documento es una <strong>API</strong>, que permite acceder a los contenidos de un documento HTML/XML.</li><li>Proporciona una <strong>representaci&#xF3;n</strong> estructurada, <strong>orientada a objetos</strong>, de los elementos individuales y el contenido del documento, con m&#xE9;todos para recuperar y fijar las propiedades de dichos objetos.</li><li>Proporciona m&#xE9;todos para agregar y eliminar objetos al documento.</li><li>Tambi&#xE9;n proporciona una <strong>interfaz est&#xE1;ndar</strong> para trabajar con <strong>eventos</strong>.</li></ul></div><div class="step" step="6" data-x="9600" data-y="0"><h1 id="arquitectura-dom">Arquitectura DOM</h1><img src="images/dom1.png" alt="" width="700px" height=""></img><p>Actualmente trabajando en <a href="http://www.w3.org/TR/domcore/">DOM4</a></p></div><div class="step" step="7" data-x="11200" data-y="0"><h1 id="interfaz-node">Interfaz Node</h1><ul><li>El documento se ve como un <strong>&#xE1;rbol de nodos</strong>.</li><li><dl><dt>Cada nodo tiene sus propios m&#xE9;todos y propiedades, pero todos implementan la <strong>interfaz Node</strong>:</dt><dd><ul><li>Un conjunto com&#xFA;n de m&#xE9;todos y propiedades relacionadas con la estructura de &#xE1;rbol del documento.</li></ul></dd></dl></li><li><dl><dt>Algunos m&#xE9;todos implementados por esta interfaz:</dt><dd><ul><li>insertBefore()</li><li>appendChild()</li><li>removeChild()</li><li>cloneNode()</li><li>replaceChild()</li></ul></dd></dl></li></ul></div><div class="step" step="8" data-x="12800" data-y="0"><h1 id="id1">Interfaz Node</h1><ul><li>Tambi&#xE9;n proporciona varias propiedades que reflejan la estructura de &#xE1;rbol y permiten recorrerlo.</li><li><dl><dt>Algunas propiedades:</dt><dd><ul><li>firstChild</li><li>lastChild</li><li>childNodes</li><li>parentNode</li><li>nextSibling</li><li>prevSibling</li></ul></dd></dl></li></ul></div><div class="step" step="9" data-x="14400" data-y="0"><h1 id="un-ejemplo">Un ejemplo</h1><img src="images/dom2.png" alt="" width="700px" height=""></img></div><div class="step" step="10" data-x="16000" data-y="0"><h1 id="en-un-documento-html-xhtml">En un documento HTML/XHTML</h1><ul><li>El documento entero es un <strong>nodo documento</strong>.</li><li>Cada elemento HTML es un <strong>nodo elemento</strong>.</li><li>Los textos  que aparecen en las p&#xE1;ginas son <strong>nodos de texto</strong>.</li><li>Los atributos de los elemento son <strong>nodos atributos</strong>.</li><li>Los comentarios son <strong>nodos comentarios</strong>.</li></ul></div><div class="step" step="11" data-x="17600" data-y="0"><h1 id="cada-nodo">Cada nodo ...</h1><ul><li>Posee propiedades tales como: <strong>nodeName</strong>, <strong>nodeValue</strong> y <strong>attributes</strong>.</li><li>Los valores de estos atributos var&#xED;an seg&#xFA;n el tipo de nodo.</li><li>Ejemplo:</li></ul><pre class="highlight code html"><span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&#x201D;casita.png&#x201D;</span> <span class="na">alt=</span><span class="s">&#x201D;..&#x201D;...</span><span class="nt">&gt;</span></pre><ul><li>&#xBF;nodeName?, &#xBF;attributes?</li></ul></div><div class="step" step="12" data-x="19200" data-y="0"><h1 id="el-documento">El documento</h1><ul><li>La ra&#xED;z del &#xE1;rbol es el <strong>objeto document</strong>.</li><li>Este objeto implementa la <strong>interfaz  Document</strong>.</li><li>Esta interfaz proporciona m&#xE9;todos para acceder y crear otros nodos en el &#xE1;rbol del documento.</li><li><dl><dt>Algunos m&#xE9;todos son:</dt><dd><ul><li>getElementById()</li><li>getElementsByTagName()</li><li>createElement()</li><li>createAttribute()</li><li>createTextNode()</li></ul></dd></dl></li></ul></div><div class="step" step="13" data-x="20800" data-y="0"><h1 id="el-documento-cont">El documento (cont.)</h1><ul><li>El objeto document tiene s&#xF3;lo un elemento hijo, dado por <strong>document.documentElement</strong>.</li><li><strong>document.documentElement</strong> corresponde al elemento <strong>&lt;html&gt;</strong></li><li>Y tiene dos hijos: <strong>&lt;head&gt;</strong> y <strong>&lt;body&gt;</strong></li></ul><img src="images/dom3.png" alt="" width="800px" height=""></img></div><div class="step" step="14" data-x="22400" data-y="0"><h1 id="dom-algunas-herramientas">DOM &#x2013; Algunas herramientas</h1><img src="images/dom4.png" alt="" width="700px" height=""></img></div><div class="step" step="15" data-x="24000" data-y="0"><h1 id="recorriendo-el-arbol">Recorriendo el &#xE1;rbol</h1><p>Ejemplo: Dado el siguiente documento:</p><pre class="highlight code html"><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;&lt;title&gt;&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;&lt;h1&gt;</span>Algo.......<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;p&gt;</span>bla bla bla <span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/body&gt;&lt;/html&gt;</span></pre><ul><li>&#xBF;document.documentElement.lastChild.firstChild.tagName?</li><li>&#xBF;Alg&#xFA;n problema?</li></ul></div><div class="step" step="16" data-x="25600" data-y="0"><h1 id="accediendo-a-los-nodos">Accediendo a los nodos</h1><ul><li>Todos los elementos del documento  tienen un atributo que les permite identificarlos un&#xED;vocamente: <strong>id</strong></li><li>Utilizando este atributo, luego podemos accederlo v&#xED;a el m&#xE9;todo: <strong>document.getElementById()</strong></li></ul><pre class="highlight code javascript"><span class="kd">function</span> <span class="nx">sumo</span><span class="p">(</span><span class="p">){</span>
<span class="kd">var</span> <span class="nx">x</span><span class="o">=</span><span class="nb">parseInt</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"n1"</span><span class="p">).</span><span class="nx">value</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">y</span><span class="o">=</span><span class="nb">parseInt</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"n2"</span><span class="p">).</span><span class="nx">value</span><span class="p">);</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"result"</span><span class="p">).</span><span class="nx">value</span><span class="o">=</span><span class="nx">x</span><span class="o">+</span><span class="nx">y</span><span class="p">;</span>
<span class="p">}</span></pre></div><div class="step" step="17" data-x="27200" data-y="0"><h1 id="accediendo-a-los-nodos-cont">Accediendo a los nodos (cont.)</h1><ul><li>Para recuperar todos los elementos de un mismo tipo, se puede usar el m&#xE9;todo: <strong>document.getElementsByTagName()</strong></li></ul><pre class="highlight code javascript"><span class="kd">var</span> <span class="nx">x</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">"p"</span><span class="p">);</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">x</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span>
  <span class="p">{</span>
  <span class="p">......</span> <span class="c1">// Estoy procesando todos los p&#xE1;rrafos
</span>  <span class="p">}</span></pre></div><div class="step" step="18" data-x="28800" data-y="0"><h1 id="tipos-de-nodos">Tipos de Nodos</h1><ul><li><strong>Nodos Elementos</strong>: Corresponden a las etiquetas del documento. Pueden tener nodos hijos, que pueden ser otros elementos o nodos de texto.</li><li><strong>Nodos de Texto</strong>: Representan contenido, o simplemente caracteres. Tienen un nodo padre y, posiblemente, nodos del mismo nivel, pero no pueden tener nodos hijos.</li><li><strong>Nodos atributos</strong>: No est&#xE1;n considerados una parte del &#xE1;rbol del documento. No tienen un nodo padre, ni hijos ni hermanos.</li></ul></div><div class="step" step="19" data-x="30400" data-y="0"><h1 id="modificando-el-arbol">Modificando el &#xE1;rbol</h1><ul><li><dl><dt>M&#xE9;todos para crear nodos:</dt><dd><ul><li>document.createElement()</li><li>document.createAttribute()</li><li>document.createTextNode()</li></ul></dd></dl></li><li><dl><dt>Para insertarlo o eliminarlo del  &#xE1;rbol:</dt><dd><ul><li>appendChild()</li><li>removeChild()</li></ul></dd></dl></li></ul></div><div class="step" step="20" data-x="32000" data-y="0"><h1 id="id2">Modificando el &#xE1;rbol</h1><p><strong>Ejemplo</strong>: Quiero crear una lista en forma din&#xE1;mica....</p><pre class="highlight code javascript"><span class="p">...</span>
<span class="kd">var</span> <span class="nx">lista</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"ul"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">item</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"li"</span><span class="p">)</span>

<span class="p">....</span>
<span class="nx">lista</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
<span class="p">....</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">lastChild</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">lista</span><span class="p">)</span>
<span class="p">....</span></pre><ul><li>Vemos <a href="ejemplosClase7/dom/00-domsencillo.html">ejemploListas</a></li></ul></div><div class="step" step="21" data-x="33600" data-y="0"><h1 id="nodos-de-texto">Nodos de texto</h1><ul><li>Los nodos de texto no tienen un atributo ID.</li><li>No se pueden acceder mediante los m&#xE9;todos getElementById() o getElementsByTagName().</li><li><strong>Se acceden a trav&#xE9;s de su nodo padre.</strong></li><li>Ejemplo:</li></ul><pre class="highlight code html">.....
<span class="nt">&lt;p</span> <span class="na">id=</span><span class="s">"p1"</span><span class="nt">&gt;</span>Texto inicial ....<span class="nt">&lt;/p&gt;</span>
.....</pre><pre class="highlight code javascript"><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'p1'</span><span class="p">).</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">nodeValue</span><span class="o">=</span><span class="s1">'Otro'</span></pre><ul><li>Vemos <a href="ejemplosClase7/dom/01-domsencillo1.html">ejemploTextos</a></li></ul></div><div class="step" step="22" data-x="35200" data-y="0"><h1 id="id3">Nodos de texto</h1><ul><li>Contenido html en un nodo de texto</li></ul><pre class="highlight code javascript"><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'p1'</span><span class="p">).</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">nodeValue</span> <span class="o">=</span>
  <span class="s2">"&lt;ul&gt;&lt;li&gt;Uno&lt;/li&gt;&lt;li&gt;Dos&lt;/li&gt;&lt;/ul&gt;"</span></pre><p>&#xBF;Qu&#xE9; creen que pasa?</p><ul><li>Vemos <a href="ejemplosClase7/dom/02-domsencillo2.html">ejemploTextosHTML</a></li></ul></div><div class="step" step="23" data-x="36800" data-y="0"><h1 id="dom-y-eventos">DOM y eventos</h1></div><div class="step" step="24" data-x="38400" data-y="0"><h1 id="dom-tambien-contempla">DOM tambi&#xE9;n contempla...</h1><ul><li>Un sistema de eventos gen&#xE9;rico que permita registrar <strong>manejadores</strong> de eventos, describir el <strong>flujo de eventos</strong> a trav&#xE9;s de la estructura del &#xE1;rbol y proveer <strong>informaci&#xF3;n contextual</strong> sobre cada evento.</li><li>Un subconjunto com&#xFA;n de los sistemas de eventos actuales.</li></ul></div><div class="step" step="25" data-x="40000" data-y="0"><h1 id="id4">Arquitectura DOM</h1><img src="images/dom5.png" alt="" width="700px" height=""></img></div><div class="step" step="26" data-x="41600" data-y="0"><h1 id="modelo-de-eventos">Modelo de eventos</h1><ul><li>Define y explica la propagaci&#xF3;n y registro de eventos.</li><li>Define la Interfaz Event</li></ul></div><div class="step" step="27" data-x="43200" data-y="0"><h1 id="tipo-de-eventos">Tipo de eventos</h1><ul><li>Existe una <a href="http://www.w3.org/TR/DOM-Level-3-Events/#event-types-list">lista</a> de eventos definidos.</li><li>Permite la implementaci&#xF3;n de m&#xFA;ltiples m&#xF3;dulos de eventos agregando los que sean necesarios.</li></ul><img src="images/dom6.png" alt="" width="" height=""></img><p>Sacado de: <a href="http://www.w3.org/TR/DOM-Level-3-Events/#event-interfaces">http://www.w3.org/TR/DOM-Level-3-Events/#event-interfaces</a></p></div><div class="step" step="28" data-x="44800" data-y="0"><h1 id="flujo-de-eventos">Flujo de eventos</h1><p>Como los documentos HTML/XML son de naturaleza jer&#xE1;rquica, cuando un evento ocurre en un objeto en particular, dicho evento est&#xE1; ocurriendo en cualquier objeto(s) que contenga(n) a dicho objeto.</p><img src="images/domFlujoEventos.png" alt="" width="" height=""></img></div><div class="step" step="29" data-x="46400" data-y="0"><h1 id="id5">Flujo de eventos</h1><img src="images/domFlujoEventos1.png" alt="" width="400px" height=""></img><ul><li><strong>1.capture phase</strong>: El evento es enviado desde la ra&#xED;z hasta el padre del nodo objetivo.</li><li><strong>2.target phase</strong>: el evento es enviado al nodo objetivo.</li><li><strong>3.bubbling phase</strong>:el evento es enviado desde el objetivo a la ra&#xED;z.</li></ul></div><div class="step" step="30" data-x="48000" data-y="0"><h1 id="la-interfaz-event">La interfaz Event</h1><ul><li>Contiene informaci&#xF3;n espec&#xED;fica sobre un evento.</li><li>Proporciona propiedades que describen el evento y su estado actual.</li><li><dl><dt>Algunas propiedades...</dt><dd><ul><li>bubbles: si el evento burbujea o no.</li><li>cancelable: si el evento puede o no cancelarse.</li><li>target:El nodo que ha originado el evento.</li><li>type: tipo de evento  (click, mouseover, etc)</li></ul></dd></dl></li><li><dl><dt>Algunas m&#xE9;todos...</dt><dd><ul><li>preventDefault(): Para cancelar el evento.</li><li>stopPropagation(): Detiene la propagaci&#xF3;n.</li></ul></dd></dl></li><li>Ver <a href="http://www.w3.org/TR/DOM-Level-3-Events/#event-types-list">http://www.w3.org/TR/DOM-Level-3-Events/#event-types-list</a></li></ul></div><div class="step" step="31" data-x="49600" data-y="0"><h1 id="manejadores-de-eventos">Manejadores de eventos</h1><pre class="highlight code javascript"><span class="kd">function</span> <span class="nx">manejador</span><span class="p">(</span><span class="nx">evento</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">//
// "evento" se crea impl&#xED;citamente y contiene la
// info sobre  el evento producido.
//
</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">elem</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'p1'</span><span class="p">)</span>
<span class="nx">elem</span><span class="p">.</span><span class="nx">onmouseover</span> <span class="o">=</span> <span class="nx">manejador</span><span class="p">;</span></pre></div><div class="step destacado" step="32" data-x="51200" data-y="0"><h1 id="como-asocio-un-manejador">&#xBF;C&#xF3;mo asocio un manejador?</h1><ul><li>En los <strong>atributos</strong> de las etiquetas HTML:</li></ul><pre class="highlight code html"><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"que aparezca la lista"</span>
 <span class="na">onclick=</span><span class="s">"agrego()"</span><span class="nt">&gt;</span></pre><ul><li>Usando la <strong>propiedad</strong> onclick del objeto</li></ul><pre class="highlight code javascript"><span class="kd">function</span> <span class="nx">agrego</span><span class="p">(</span><span class="nx">evento</span><span class="p">)</span> <span class="p">{</span><span class="p">....}</span></pre><pre class="highlight code html"><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"b1"</span> <span class="na">value=</span><span class="s">"que aparezca la lista"</span><span class="nt">&gt;</span></pre><pre class="highlight code javascript"><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'b1'</span><span class="p">).</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">agrego</span><span class="p">;</span></pre><p><strong>agrego es un objeto function</strong>. NO es una cadena de caracteres</p></div><div class="step" step="33" data-x="52800" data-y="0"><h1 id="escuchadores-de-eventos">Escuchadores de eventos</h1><ul><li>Los objetos DOM tambi&#xE9;n pueden ser registrados como escuchadores de eventos.</li><li>Esta caracter&#xED;stica puede ser utilizada para asignar m&#xFA;ltiples manejadores para un evento dado.</li><li><dl><dt>Los m&#xE9;todos b&#xE1;sicos son:</dt><dd><ul><li>addEventListener</li><li>removeEventListener</li></ul></dd></dl></li></ul></div><div class="step" step="34" data-x="54400" data-y="0"><h1 id="escuchadores-de-eventos-cont">Escuchadores de eventos (cont.)</h1><pre class="highlight code javascript"><span class="nx">node</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nx">eventType</span><span class="p">,</span> <span class="kd">function</span><span class="p">,</span> <span class="nx">useCapture</span><span class="p">);</span>

<span class="nx">node</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="nx">eventType</span><span class="p">,</span> <span class="kd">function</span><span class="p">,</span> <span class="nx">useCapture</span><span class="p">)</span></pre><ul><li><dl><dt>Donde:</dt><dd><ul><li><strong>eventType</strong> es un nombre predefinido de evento como "mouseover" o "click"</li><li><strong>function</strong> es el nombre de la funci&#xF3;n manejador y</li><li><strong>useCapture</strong> es un booleano que especifica en qu&#xE9; fase del flujo de eventos el manejador debe ser llamado.</li></ul></dd></dl></li></ul></div><div class="step" step="35" data-x="56000" data-y="0"><h1 id="id6">Escuchadores de eventos (cont.)</h1><ul><li>Ejemplo:</li></ul><pre class="highlight code html"><span class="nt">&lt;span</span> <span class="na">id =</span><span class="s">"p1"</span> <span class="na">style=</span><span class="s">"background-color:yellow;"</span> <span class="nt">&gt;</span>
Este texto cambia de color....... <span class="nt">&lt;/span&gt;</span>
.....</pre><pre class="highlight code javascript"><span class="kd">var</span> <span class="nx">elem</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'p1'</span><span class="p">)</span>
<span class="nx">elem</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"mouseover"</span><span class="p">,</span> <span class="nx">f1</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span><span class="o">:</span>
<span class="nx">elem</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"mouseout"</span><span class="p">,</span> <span class="nx">f2</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span><span class="o">:</span>
<span class="p">.......</span>

<span class="nx">elem</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"mouseover"</span><span class="p">,</span> <span class="nx">f1</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>


<span class="nx">elem</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"mouseover"</span><span class="p">,</span> <span class="nx">f1</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span><span class="o">:</span>
<span class="nx">elem</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"mouseover"</span><span class="p">,</span> <span class="nx">f1</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span><span class="o">:</span></pre></div><div class="step" step="36" data-x="57600" data-y="0"><h1 id="procesamiento-en-el-cliente">Procesamiento en el cliente</h1></div><div class="step" step="37" data-x="59200" data-y="0"><h1 id="programando-scripts">Programando scripts</h1><ul><li>Los scripts son peque&#xF1;os programas que se incluyen en la p&#xE1;gina web.</li><li>Se delimitan entre las etiquetas  <strong>&lt;script&gt;</strong> y <strong>&lt;/script&gt;</strong>.</li><li>Si el navegador NO puede ejecutar scripts, existen las etiquetas <strong>&lt;noscript&gt;</strong> y <strong>&lt;/noscript&gt;</strong>.</li></ul></div><div class="step" step="38" data-x="60800" data-y="0"><h1 id="programando-scripts-cont">Programando scripts (cont.)</h1><ul><li>Es posible escribir el c&#xF3;digo en un archivo externo al documento HTML.</li></ul><pre class="highlight code html"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span>
                 <span class="na">src=</span><span class="s">"misScripts.js"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/script&gt;</span></pre><ul><li>O, en HTML 5, si no indico el atributo type, asume Javascript.</li></ul><pre class="highlight code html"><span class="nt">&lt;script  </span><span class="na">src=</span><span class="s">"misScripts.js"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/script&gt;</span></pre></div><div class="step" step="39" data-x="62400" data-y="0"><h1 id="id7">Programando scripts (cont.)</h1><pre class="highlight code html"><span class="nt">&lt;html&gt;</span> <span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;title&gt;</span>Scripts &#x2013; Proyecto de Software<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"content-script-type"</span>
                 <span class="na">content=</span><span class="s">"text/tcl"</span><span class="nt">&gt;</span>

<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/vbscript"</span>
                 <span class="na">src=</span><span class="s">"http://someplace.com/progs/vbcalc"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span> <span class="nt">&lt;body&gt;</span>

<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
<span class="p">...</span><span class="nx">some</span> <span class="nx">javascript</span><span class="p">...</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;&lt;/html&gt;</span></pre></div><div class="step" step="40" data-x="64000" data-y="0"><h1 id="javascript">Javascript</h1><ul><li>Es interpretado: el int&#xE9;rprete de Javascript est&#xE1; contenido en el navegador.</li></ul><img src="images/esquema-web.png" alt="" width="" height=""></img></div><div class="step" step="41" data-x="65600" data-y="0"><h1 id="id8">Javascript</h1><ul><li>Es multiplataforma.</li><li>Surgi&#xF3; como Livescript (creado por la empresa Netscape) y luego, junto con la empresa Sun, se convirti&#xF3; en Javascript.</li><li>El est&#xE1;ndar es el <strong>ECMA 262</strong>.</li><li>Maneja el concepto de objetos: es un lenguaje basado en prototipos.</li><li>Es case-sensitive.  La sintaxis de Javascript es similar a la del Lenguaje C o Java.</li><li>Es un lenguaje de asignaci&#xF3;n din&#xE1;mica de tipos.</li><li>V8 (motor JavaScript desarrollado por Google)</li></ul></div><div class="step" step="42" data-x="67200" data-y="0"><h1 id="hola-mundo">Hola Mundo!!!</h1><pre class="highlight code javascript"><span class="kd">function</span> <span class="nx">saludar</span><span class="p">(</span><span class="p">){</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s2">"Hola Mundo!!"</span><span class="p">)</span>
<span class="p">}</span></pre><ul><li>Veamos el <a href="ejemplosClase7/js/00-holaMundo.html">holaMundo</a></li></ul></div><div class="step" step="43" data-x="68800" data-y="0"><h1 id="objetos-en-javascript">Objetos en Javascript</h1><ul><li>Paradigma <strong>"basado en objetos" (no en clases)</strong></li><li>Cada objeto tiene asociado propiedades y m&#xE9;todos.</li><li><dl><dt>&#xBF;C&#xF3;mo se referencian? Mediante calificaci&#xF3;n:</dt><dd><ul><li>objeto.propiedad</li><li>objeto.m&#xE9;todo</li></ul></dd></dl></li><li>La herencia se realiza a trav&#xE9;s de  <strong>prototipos</strong>.</li><li>Las propiedades y los m&#xE9;todos pueden agregarse al objeto en forma din&#xE1;mica.</li></ul></div><div class="step" step="44" data-x="70400" data-y="0"><h1 id="aspectos-basicos">Aspectos b&#xE1;sicos</h1><ul><li>Maneja excepciones: mecanismo <strong>try - catch</strong></li><li><dl><dt>Funciones &#xFA;tiles</dt><dd><ul><li><strong>eval(unaCadena):</strong> ejecuta la expresi&#xF3;n o sentencia contenida en unaCadena.</li><li><strong>parseInt(unaCadena, base):</strong> convierte unaCadena al valor num&#xE9;rico asociado usando como base el par&#xE1;metro base.</li><li><strong>parseFloat(unaCadena):</strong> convierte una Cadena en un n&#xFA;mero real.</li><li><strong>isNaN(unaCadena):</strong> retorna true si una Cadena No es un N&#xFA;mero.</li></ul></dd></dl></li></ul></div><div class="step" step="45" data-x="72000" data-y="0"><h1 id="probemos-en-la-consola">Probemos en la consola</h1><pre class="highlight code javascript"><span class="nb">parseInt</span><span class="p">(</span><span class="s2">"1234"</span><span class="p">)</span>
<span class="nb">parseInt</span><span class="p">(</span><span class="s2">"11"</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">parseInt</span><span class="p">(</span><span class="s2">"0x10"</span><span class="p">)</span>
<span class="nb">parseInt</span><span class="p">(</span><span class="s2">"hola"</span><span class="p">)</span>
<span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="nb">Number</span><span class="p">.</span><span class="nx">MAX_VALUE</span>

<span class="kd">var</span>  <span class="nx">x</span><span class="o">=</span>  <span class="k">new</span> <span class="nb">Boolean</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="nx">alert</span><span class="p">(</span><span class="s2">"hola"</span><span class="p">)</span></pre></div><div class="step" step="46" data-x="73600" data-y="0"><h1 id="seguimos-probando">Seguimos probando...</h1><pre class="highlight code javascript"><span class="s2">"proyecto"</span><span class="p">.</span><span class="nx">length</span>
<span class="s2">"proyecto"</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="s2">"proyecto de desarrollo"</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"desarrollo"</span><span class="p">,</span> <span class="s2">"software"</span><span class="p">)</span>
<span class="s2">"proyecto"</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">(</span><span class="p">)</span>

<span class="kd">var</span> <span class="nx">arreglo</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="s2">"uno"</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">"tres"</span><span class="p">)</span>
<span class="nx">arreglo</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="s2">"3333"</span>
<span class="kd">var</span> <span class="nx">frutas</span><span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="p">)</span>
<span class="nx">frutas</span><span class="p">[</span><span class="s2">"citricos"</span><span class="p">]</span><span class="o">=</span><span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="s2">"naranja"</span><span class="p">,</span> <span class="s2">"pomelo"</span><span class="p">)</span>
<span class="nx">frutas</span><span class="p">[</span><span class="s2">"otros"</span><span class="p">]</span><span class="o">=</span><span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="s2">"manzana"</span><span class="p">,</span> <span class="s2">"pera"</span><span class="p">)</span>
<span class="nx">frutas</span><span class="p">[</span><span class="s2">"citricos"</span><span class="p">]</span>
<span class="nx">frutas</span><span class="p">.</span><span class="nx">citricos</span></pre></div><div class="step" step="47" data-x="75200" data-y="0"><h1 id="id9">Seguimos probando...</h1><pre class="highlight code javascript"><span class="nx">fecha</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="p">)</span>
<span class="nx">hoy</span><span class="o">=</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="mi">2014</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>

<span class="nx">dias</span><span class="o">=</span><span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="s2">"domingo"</span><span class="p">,</span> <span class="s2">"lunes"</span><span class="p">,</span> <span class="s2">"martes"</span><span class="p">,</span> <span class="s2">"miercoles"</span><span class="p">,</span> <span class="s2">"jueves"</span><span class="p">,</span> <span class="s2">"viernes"</span><span class="p">,</span> <span class="s2">"sabado"</span><span class="p">)</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">dias</span><span class="p">[</span><span class="nx">hoy</span><span class="p">.</span><span class="nx">getDay</span><span class="p">(</span><span class="p">)])</span></pre><p>M&#xE1;s ejemplos en <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/A_re-introduction_to_JavaScript">https://developer.mozilla.org/en-US/docs/Web/JavaScript/A_re-introduction_to_JavaScript</a></p></div><div class="step" step="48" data-x="76800" data-y="0"><h1 id="volviendo-a-html5">Volviendo a HTML5</h1><ul><li><dl><dt>Procesando <strong>Canvas</strong>:  elemento usado para incorporar gr&#xE1;ficos, im&#xE1;genes, animaciones, etc.</dt><dd><ul><li>Vemos <a href="ejemplosClase7/js/01-html5Canvas.html">ejemplo-Canvas</a></li><li>+Info en <a href="http://diveintohtml5.info/canvas.html">http://diveintohtml5.info/canvas.html</a></li></ul></dd></dl></li><li><dl><dt>Almacenamiento local: <strong>localStorage</strong> y  <strong>sessionStorage</strong></dt><dd><ul><li>Vemos <a href="ejemplosClase7/js/02-localstorage.html">ejemplo-storage</a></li><li>Otro <a href="http://www.adictosaltrabajo.com/tutoriales/html5AlmacenamientoLocal/ejemploLocalStorage.html">ejemplo-completo</a></li><li>+&#xCD;nfo en <a href="http://diveintohtml5.info/storage.html">http://diveintohtml5.info/storage.html</a></li></ul></dd></dl></li><li><dl><dt><a href="http://html5demos.com/geo">Geolocalizaci&#xF3;n</a></dt><dd><ul><li>+Info en <a href="http://diveintohtml5.info/geolocation.html">http://diveintohtml5.info/geolocation.html</a></li></ul></dd></dl></li></ul></div><div class="step" step="49" data-x="78400" data-y="0"><h1 id="geolocalizacion-como-lo-hace">Geolocalizaci&#xF3;n, &#xBF;C&#xF3;mo lo hace?</h1><blockquote><blockquote><p>&#xA1;Depender&#xE1; de cada browser!</p></blockquote><ul><li><dl><dt>En general:</dt><dd><ul><li>GPS (si est&#xE1; disponible)</li><li>De acuerdo a las wifi-networks cercanas y la intensidad de la se&#xF1;al</li><li>De acuerdo a las torres de celular disponibles y la intensidad de la se&#xF1;al</li><li>IP Address lookup</li></ul></dd></dl></li></ul></blockquote><p>Ejemplo Firefox:    <a href="http://www.mozilla.org/en-US/firefox/geolocation/">http://www.mozilla.org/en-US/firefox/geolocation/</a></p></div><div class="step" step="50" data-x="80000" data-y="0"><h1 id="volvemos-a-json">&#xBF;Volvemos a JSON?</h1><ul><li>Usando <a href="ejemplosClase7/js/JSON/00-ObjetoJS.html">objetos</a></li><li><dl><dt>Usando Objetos <a href="ejemplosClase7/js/JSON/01-ObjetoJSON.html">JSON</a></dt><dd><ul><li>El mismo ejemplo pero un poquito m&#xE1;s <a href="ejemplosClase7/js/JSON/02-ObjetoJSONconfuncion.html">complejo</a></li></ul></dd></dl></li><li>Usando <a href="ejemplosClase7/js/JSON/03-evalJSON.html">eval</a></li><li>Usando <a href="ejemplosClase7/js/JSON/04-parseJSON.html">JSON.parse</a></li></ul><p>+Info en  <a href="http://www.json.org/js.html">http://www.json.org/js.html</a></p></div><div class="step" step="51" data-x="81600" data-y="0"><h1 id="referencias">Referencias</h1><ul><li><dl><dt>DOM</dt><dd><ul><li><a href="http://www.w3.org/DOM/">http://www.w3.org/DOM/</a></li><li><a href="http://www.desarrolloweb.com/articulos/historia-estandar-dom.html">http://www.desarrolloweb.com/articulos/historia-estandar-dom.html</a></li></ul></dd></dl></li><li><dl><dt>Javascript</dt><dd><ul><li><a href="https://developer.mozilla.org/en/JavaScript/A_re-introduction_to_JavaScript">https://developer.mozilla.org/en/JavaScript/A_re-introduction_to_JavaScript</a></li><li><a href="https://developer.mozilla.org/en/Web_Standards">https://developer.mozilla.org/en/Web_Standards</a></li><li><a href="https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Core_Language_Features#Unicode">https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Core_Language_Features#Unicode</a></li><li><a href="http://www.w3.org/standards/webdesign/script">http://www.w3.org/standards/webdesign/script</a></li><li><a href="https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Details_of_the_Object_Model#Class-Based_vs._Prototype-Based_Languages">https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Details_of_the_Object_Model#Class-Based_vs._Prototype-Based_Languages</a></li><li><a href="http://code.google.com/p/v8/">http://code.google.com/p/v8/</a></li></ul></dd></dl></li></ul></div></div><div id="hovercraft-help"><table><tr><th>Space</th><td>Forward</td></tr><tr><th>Left, Down, Page Down</th><td>Next slide</td></tr><tr><th>Right, Up, Page Up</th><td>Previous slide</td></tr><tr><th>P</th><td>Open presenter console</td></tr><tr><th>H</th><td>Toggle this help</td></tr></table></div><script type="text/javascript" src="js/impress.js"></script><script type="text/javascript" src="js/impressConsole.js"></script><script type="text/javascript" src="js/hovercraft.js"></script></body></html>